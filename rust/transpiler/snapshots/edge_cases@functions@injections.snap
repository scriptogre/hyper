---
source: transpiler/tests/golden_tests.rs
expression: "serde_json::json!({\n    \"ranges\": result.ranges, \"injections\": result.injections,\n})"
input_file: transpiler/tests/edge_cases/functions.hyper
---
injections:
  - end: 9
    prefix: "from hyper import escape, replace_markers\n\ndef Functions("
    start: 0
    suffix: ""
    type: python
  - end: 75
    prefix: ") -> str:\n    _parts = []\n    def greet(who: str):\n        _parts.append(f\"\"\"<h1>Hello, ‹ESCAPE:{"
    start: 70
    suffix: ""
    type: python
  - end: 214
    prefix: "}›!</h1>\"\"\")\n    def make_badge(text: str, color: str = \"blue\") -> str:\n        _parts.append(f\"\"\"<span class=\"badge badge-{color}\">‹ESCAPE:{"
    start: 208
    suffix: ""
    type: python
  - end: 321
    prefix: "}›</span>\"\"\")\n    async def fetch_and_render(url: str):\n        _parts.append(f\"\"\"<div class=\"loading\">Fetching ‹ESCAPE:{"
    start: 316
    suffix: ""
    type: python
  - end: 490
    prefix: "}›...</div>\"\"\")\n    def render_list(items: list, title: str = \"List\"):\n        _parts.append(\"<div class=\\\"list-container\\\">\")\n        _parts.append(\"<h2>\")\n        _parts.append(escape(title))\n        _parts.append(\"</h2>\")\n        if "
    start: 485
    suffix: ""
    type: python
  - end: 542
    prefix: ":\n            _parts.append(\"<ul>\")\n            for item in "
    start: 537
    suffix: ""
    type: python
  - end: 574
    prefix: ":\n                _parts.append(f\"\"\"<li>‹ESCAPE:{"
    start: 568
    suffix: ""
    type: python
  - end: 748
    prefix: "}›</li>\"\"\")\n            _parts.append(\"</ul>\")\n        else:\n            _parts.append(\"\"\"<p>No items</p>\"\"\")\n        _parts.append(\"</div>\")\n    greet(name)\n    _parts.append(f\"\"\"‹ESCAPE:{"
    start: 720
    suffix: "}›\"\"\")\n    return replace_markers(\"\".join(_parts))\n"
    type: python
ranges:
  - compiled_end: 66
    compiled_start: 57
    range_type: Python
    source_end: 9
    source_start: 0
  - compiled_end: 166
    compiled_start: 163
    range_type: Python
    source_end: 75
    source_start: 70
  - compiled_end: 311
    compiled_start: 307
    range_type: Python
    source_end: 214
    source_start: 208
  - compiled_end: 435
    compiled_start: 432
    range_type: Python
    source_end: 321
    source_start: 316
  - compiled_end: 676
    compiled_start: 671
    range_type: Python
    source_end: 490
    source_start: 485
  - compiled_end: 741
    compiled_start: 736
    range_type: Python
    source_end: 542
    source_start: 537
  - compiled_end: 794
    compiled_start: 790
    range_type: Python
    source_end: 574
    source_start: 568
  - compiled_end: 1009
    compiled_start: 983
    range_type: Python
    source_end: 748
    source_start: 720
